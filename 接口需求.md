# 接口需求

## 关于用户

### 注册

目前预计的模式：发送邮件验证

验证方式： JWT

后端收到的数据：（username, password） -> JWT

后端发送的数据： 

- 成功，状态码200 OK
- 失败，状态码403 Forbidden

### 登录

这个状态是有可能长期保持的

验证方式： Session

后端接收的数据： hash(（username, password）+ salt)   **没有明文密码！**

后端的功能：对存储的hash值进行比对

- 成功，状态码200 OK
- 失败，状态码401 Authentication Failed



### 验证邮件里的链接

显然里面有串“尾巴”,里面记录着请求详情

然后显示：

成功：进入成功界面，然后自动跳转到主页。

失败：进入失败界面，并询问是否再发一次。



### 密码重置

出处：登录界面的forget password

目前预计的模式：发送邮件验证

验证方式： JWT

后端收到的数据：（username, password） -> JWT

后端发送的数据： 

- 成功，状态码200 OK，**然后前端会跳转到密码重置界面**
- 失败，状态码403 Forbidden







## 关于管理员

### 权限确定

对所有的用户以用户组的形式进行分类，

分为admin和user

### 额外功能

对用户进行增/删/改/查

请在对应的表中做好对应的准备。



## 关于文章

### 修改/彻底删除自己的文章数据

当然，这些**需要管理员同意**。

因此，先将请求发送至管理员帐户，使用socket传送。

后端需要将消息发送给管理员进行批复。

然后，后端将结果发送给对应用户，视情况更新后台数据。

**所以得先将原有数据存档，然后进行比对，实有更改再进行上述过程。**



### 添加文章数据

前端给后端提供文章的（标题、正文、点击量、作者），请建立相应的表进行存储，而且要**按组分**和**按年份/日期分类**。

### 查询文章数据

前端向后端查询文章的（标题、正文、点击量、作者），后端将数据交给前端渲染。



